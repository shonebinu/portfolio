---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import { Github, Globe } from "@lucide/astro";
import { projects } from "../consts.ts";
---

<Layout>
  <h2>
    <span class="fancy-highlight">My Projects</span>
  </h2>

  <section class="mt-6 flex flex-col gap-10">
    {
      projects.map((proj) => (
        <div class="flex flex-col sm:flex-row sm:gap-4">
          <div class="w-full sm:w-1/3">
            <Image src={proj.image} alt="Project image" class="rounded-lg" />
          </div>
          <div class="w-full sm:w-2/3">
            <h3>{proj.title}</h3>
            <div class="mt-1 flex flex-wrap gap-1">
              {proj.techs.map((tech) => (
                <span class="primary-badge">{tech}</span>
              ))}
            </div>
            <p class="mt-1">{proj.description}</p>
            <div class="mt-1 flex gap-2">
              <a
                href={proj.sourceLink}
                class={`btn btn-accent btn-soft flex-1 ${!proj.sourceLink ? "btn-disabled" : ""}`}
              >
                <Github />
                Source
              </a>
              <a
                href={proj.liveLink}
                class={`btn btn-soft flex-1 ${!proj.liveLink ? "btn-disabled" : ""}`}
              >
                <Globe />
                Live
              </a>
            </div>
          </div>
        </div>
      ))
    }
  </section>
</Layout>
