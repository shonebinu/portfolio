---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import { Github, Globe } from "@lucide/astro";
import { works } from "../consts.ts";
---

<Layout>
  <h2>
    <span class="fancy-highlight">My Works</span>
  </h2>

  <section class="mt-6 flex flex-col gap-10">
    {
      works.map((work) => (
        <div class="flex flex-col sm:flex-row sm:gap-4">
          <div class="w-full sm:w-1/3">
            <Image src={work.image} alt="Project image" class="rounded-lg" />
          </div>
          <div class="w-full sm:w-2/3">
            <h3>{work.title}</h3>
            <div class="mt-1 flex flex-wrap gap-1">
              {work.tags.map((tag) => (
                <span class="primary-badge">{tag}</span>
              ))}
            </div>
            <p class="mt-1">{work.description}</p>
            <div class="mt-1 flex gap-2">
              <a
                href={work.sourceLink}
                class={`btn btn-accent btn-soft flex-1 ${!work.sourceLink ? "btn-disabled" : ""}`}
              >
                <Github />
                Source
              </a>
              <a
                href={work.liveLink}
                class={`btn btn-soft flex-1 ${!work.liveLink ? "btn-disabled" : ""}`}
              >
                <Globe />
                Live
              </a>
            </div>
          </div>
        </div>
      ))
    }
  </section>
</Layout>
